{% extends "prikoso_2016_circle_checker/base.html" %}
{% block body %}
<div class="container">
  <div class="header">
	<h1>{% block title %}ğŸŒˆâœ¨ãƒ•ã‚šãƒªã“ãå·å´2016æ˜¥ ã‚µãƒ¼ã‚¯ãƒ«ãƒã‚§ãƒƒã‚«ãƒ¼{% endblock %}</h1>
	<p>
	  <!-- tweet button -->
	  <a href="https://twitter.com/share" class="twitter-share-button"
		 data-size="large">Tweet</a>
	  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
	</p>	
	<p>
	  <a href="https://twitter.com/akiratamcat/lists/2016?s=09">
		ã€Œãƒ•ã‚šãƒªã“ãå·å´2016æ˜¥ã€å‚åŠ è€…ã‚µãƒ¼ã‚¯ãƒ«ã•ã‚“ã®ãƒªã‚¹ãƒˆ</a>
	  ã®æœ€è¿‘ã®ãƒ„ã‚¤ãƒ¼ãƒˆ(ã€œ3/4)ã‹ã‚‰ã€ç”»åƒä»˜ãã®ãƒ„ã‚¤ãƒ¼ãƒˆã‚’ä¸€è¦§ã«ã—ãŸãƒ˜ã‚šãƒ¼ã‚·ã‚™ã¦ã‚™ã™ã€‚
	  ã‚µãƒ¼ã‚¯ãƒ«ãƒã‚§ãƒƒã‚¯ã«ãŠå½¹ç«‹ã¦ããŸã‚™ã•ã„ã€‚ä½œè€…:
	  <a href="https://twitter.com/sakuramochi_0">ã•ãã‚‰ã‚‚ã¡(@sakuramochi_0)</a>
	</p>
	<p>
	  â€»ãƒ„ã‚¤ãƒ¼ãƒˆã‹ã‚™å¤šã„ã®ã¦ã‚™ã€ç”»åƒã‹ã‚™è¡¨ç¤ºã•ã‚Œã‚‹ã¾ã¦ã‚™å°‘ã—æ™‚é–“ã‹ã‚™ã‹ã‹ã‚‹ã‹ã‚‚â€¦ã€‚
	</p>
	{% if edit %}
	<p>èª¬æ˜:
	  <ul>
		<li>ã€ŒğŸ“Œ ãƒ’ã‚šãƒ³ã‚’ã¨ã‚ã‚‹ã€ã¨ã€ãƒ’ã‚šãƒ³ã¦ã‚™ã¨ã‚ãŸãƒ„ã‚¤ãƒ¼ãƒˆã‚’ä¸€ç•ªæœ€åˆã«å›ºå®šã™ã‚‹ã“ã¨ã‹ã‚™ã¦ã‚™ãã¾ã™ã€‚</li>
		<li>ã€Œâœ— éè¡¨ç¤ºã«ã™ã‚‹ã€ã¨ã€ä¸€è¦§ã«è¡¨ç¤ºã•ã‚Œãªããªã‚Šã¾ã™ã€‚</li>
	  </ul>
	</p>
	{% endif %}
	<ul class="page-btn list-inline">
	  <li><a class="btn btn-default" href="{% url 'prikoso_2016_circle_checker.views.index' 1 %}">01-09</a></li>
	  <li><a class="btn btn-default" href="{% url 'prikoso_2016_circle_checker.views.index' 2 %}">10-19</a></li>
	  <li><a class="btn btn-default" href="{% url 'prikoso_2016_circle_checker.views.index' 3 %}">20-29</a></li>
	  <li><a class="btn btn-default" href="{% url 'prikoso_2016_circle_checker.views.index' 4 %}">30-39</a></li>
	  <li><a class="btn btn-default" href="{% url 'prikoso_2016_circle_checker.views.index' 5 %}">40-48</a></li>
	  {% if not edit %}
	  <li><a class="btn btn-default" href="edit">ğŸ“Œ ãƒ’ã‚šãƒ³ç•™ã‚ã¨è¡¨ç¤º/éè¡¨ç¤ºã‚’ç·¨é›†ã™ã‚‹</a></li>
	  {% else %}
	  <li><a class="btn btn-default" href="..">ç·¨é›†ã‚’çµ‚ã‚ã‚‹</a></li>
	  {% endif %}
	</ul>
  </div>

  <!-- csrf -->
  {% csrf_token %}
  
  <div class="main col-lg-12">
	{% for user in users %}
	<hr/>
	<div class="user">
	  <div class="user-info">
		<p>
		  <a href="https://twitter.com/{{ tw.tweet.user.screen_name }}">
			<span class="space_num">#{{ user.space_num|stringformat:"02d" }} </span>
			<span class="icon">
			  <img src="{{ user.user.profile_image_url }}" alt="Twitterã‚¢ã‚¤ã‚³ãƒ³" />
			</span>
			<span class="name">{{ user.user.name}}</span>
			<span class="screen_name"> (@{{ user.user.screen_name }})</span>
		  </a>
		</p>
	  </div>
	  <div class="tweets">
		{% for tweets in user.tweets_list %}
		{% for tw in tweets %}
		<div class="tweet">
		  <blockquote class="twitter-tweet" width="300px">
			<p lang="ja" dir="ltr">{{ tw.tweet.text }}</p>
			<a href="https://twitter.com/{{ tw.tweet.user.screen_name }}/status/{{ tw.tweet.id_str }}">
			  {{ tw.tweet.created_at }}
			</a>
		  </blockquote>
		  {% if edit %}
		  <p>
			<a class="pin{% if tw.pin %} hide{% endif %}" data-id="{{ tw.tweet.id }}">[ğŸ“Œ ãƒ’ã‚šãƒ³ã¦ã‚™ã¨ã‚ã‚‹]</a>
			<a class="unpin{% if not tw.pin %} hide{% endif %}" data-id="{{ tw.tweet.id }}">[ğŸ‘† ãƒ’ã‚šãƒ³ã‚’å¤–ã™]</a>
			<a class="disable{% if tw.disable %} hide{% endif %}" data-id="{{ tw.tweet.id }}">[âœ— éè¡¨ç¤ºã«ã™ã‚‹ï¼]</a>
			<a class="enable{% if not tw.disable %} hide{% endif %}" data-id="{{ tw.tweet.id }}">[â—‹ å†è¡¨ç¤ºã™ã‚‹ï¼]</a>
		  </p>
		  {% endif %}
		</div>
		{% endfor %}
		{% endfor %}
	  </div>
	</div>
	{% endfor %}
  </div>

  <div class="footer">
	<ul class="page-btn list-inline">
	  <li><a class="btn btn-default" href="{% url 'prikoso_2016_circle_checker.views.index' 1 %}">01-09</a></li>
	  <li><a class="btn btn-default" href="{% url 'prikoso_2016_circle_checker.views.index' 2 %}">10-19</a></li>
	  <li><a class="btn btn-default" href="{% url 'prikoso_2016_circle_checker.views.index' 3 %}">20-29</a></li>
	  <li><a class="btn btn-default" href="{% url 'prikoso_2016_circle_checker.views.index' 4 %}">30-39</a></li>
	  <li><a class="btn btn-default" href="{% url 'prikoso_2016_circle_checker.views.index' 5 %}">40-48</a></li>
	  {% if not edit %}
	  <li><a class="btn btn-default" href="edit">ğŸ“Œ ãƒ’ã‚šãƒ³ç•™ã‚ã¨è¡¨ç¤º/éè¡¨ç¤ºã‚’ç·¨é›†ã™ã‚‹</a></li>
	  {% else %}
	  <li><a class="btn btn-default" href="..">ç·¨é›†ã‚’çµ‚ã‚ã‚‹</a></li>
	  {% endif %}
	</ul>
  </div>
</div>

<script>
  $('.pin').click(
    function(){
      $.post('{% url 'prikoso_2016_circle_checker.views.pin' %}', {
        id: $(this).data('id'),
        csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val()
      });
      $(this).parent().find('.pin').toggleClass('hide');
      $(this).parent().find('.unpin').toggleClass('hide');
    }
  );

  $('.unpin').click(
    function(){
      $.post('{% url 'prikoso_2016_circle_checker.views.unpin' %}', {
        id: $(this).data('id'),
        csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val()
      })
      $(this).parent().find('.pin').toggleClass('hide');
      $(this).parent().find('.unpin').toggleClass('hide');
    }
  );

  $('.disable').click(
    function(){
      $.post('{% url 'prikoso_2016_circle_checker.views.disable' %}', {
        id: $(this).data('id'),
        csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val()
      });
      $(this).parent().find('.disable').toggleClass('hide');
      $(this).parent().find('.enable').toggleClass('hide');
    }
  );

  $('.enable').click(
    function(){
      $.post('{% url 'prikoso_2016_circle_checker.views.enable' %}', {
        id: $(this).data('id'),
        csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val()
      })
      $(this).parent().find('.disable').toggleClass('hide');
      $(this).parent().find('.enable').toggleClass('hide');
    }
  );
</script>
<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>  
{% endblock %}
